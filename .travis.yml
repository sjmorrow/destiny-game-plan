language: node_js
node_js:
- '0.12'
addons:
  ssh_known_hosts: dev.destinygameplan.com
before_script:
- npm install -g bower gulp
- bower install
script:
- gulp
env:
  global:
  - secure: YhT5ez7uJVvqyeBxoJ1UJva8RWBQxYM9BQ/CLpcgDJmn4Q1iyASsQVIwjQlvBfY7DlO7ZC+BBIK5u++8AWZvr6AlJ630PI6KU3cjgueMnsX01fX459kL5f/9JXSygB30Y6pAPkuLcGeIjmlJA8JTI6uYTwti6GZfRBQcq6/tVWFQVqQmefDdGCkq62q8RLiqInfBoCdejBbGLyPWbP6lnPqdnGKMdsz1tWOdXNUb87PiFQcFDSBcpZa+eP0m0rAGhg7UTF4BR2Zb8xsvQZJCIFt3AewUhcig6d5IGgDU41m+z2J6Ta8o4DTgJmtCv1u436jVbhSj3xBr36VKO/DAqE5bTzGoNQ4q8Y8v/RclFIDoMlWiUOFFcKY/lgsYxecHM4UB1LoaT5CLaEVsAy5ZTMJevTCWh8EE4glKBF1+832tAwSwleiXtJpyF9imsHcigN1ajdggXbKeQY6e4hSZEwoYKU+Q5WHiQMNiRTm/5gtHRwtUp+1dru6AiZZQ/SXxUA9thff8uWyNR3TZNSHg+X2DuGoj+rQyJwbYdU7dRryD3rtAk8tQthZPMDa0KDe5leL7f/2LrgS93HnzLZZQ/+sElMguDaFVItI5tL6UoEN4mumj4YFu7tQpjamd3TzsaMNQCAc8C2H1+RR7c++k0stZIU7ntcyFyiNAdo4xH2g=
  - secure: pTHBobw5/AScRe7YBnj5lWX7pAX3n4N+v3MwPTwSJqY7hNn+k3osQIdF5xGDrzrACKdLTJSENZFmb7gbBwHqifYOzN/UbWFvTs3mYRvrXzVzKXBb74IFgAdxff6JbopPG8NzRHEkegaMlpiTraKmHM3oGlRjHtEMbBKpcHxjnL5mwCB7cH33BBhHWDbFeHJa9eQ8BFs7ii7K8UIvsMgj+tNgl9vEft7mAs2Rr0mwADkkOUbhwsEukMklv9XecjvYi6F0Y3kkRnQMI7wvX0UVWvSAVsQcH9yDMc+h/76qZxLd1YDlebUsqekRTdX5ARXKUrsOacG0rU8lOgM1ZetrpSp/oowOITwbjH9siLEmxcflIRmD07YxhN+sB7pmCHE0I1Eq6MXKyPHa4jRR6lRB0Lu0IykgEsygcKAxoyMaNpwKAxcCi6Hi37RP5zf8EevWmvx4QDYO+WBqMqm99WOumJQEkTntz5H4ZfAn2KFU7tKkWNch05glWe3eA5DfwMxONFDVBIVGAPGZp18Ft/jn1Y3tJldHC+8EjOhHwsQVzNn/4jR/KZQqdprzzrm3bMywoyOoSWOCvfio2gGEARmMERYufwAoGOB+pki7TEAT7ygdBhZ1vskcmDxWUL5cC0o5UrwuBwpR8oVA/X4qEs1m6MXMtMy3A3XJu/7l1U9uimM=
  - secure: GJ9QWpQcbwe1ASbEVlbbla95buFd3ZUdGwRVAP3w6KTXNVo6VgTV48f7GTmIZkyNGhD9Dk/kFgv66TIh9KK6jgFoX1pXyvVSPm9PU6U0HpiHlIPedSOosnsZkemoM3NY/X2/QrT2bDu194dcxaeQ46fHMFXsE50WbFseDTKj0WImMxA+cU26LR4Sq61W3FxGJNw+Hc07eHakz7i27ar4jLIygxi30+7YfGwdUgT48LSMgJh7FOktcZ44al2cDT++vYKgWqeqXUVZzsAOiQ8AOMqpltvB6TM60ksY1uVy7fIWCJtMWrw7uyvHEw4oxZUFr7K5lteUnW1twJrzZQg1UIvcgqHwW7hSNi+wDEytx6ixT6TgfHrS56mlY4/YAtEMAR3SWBELApgvFuGepVrsm3XIi8p7OVCHdGR7CEnlnmSZMfSSFO9YwaQkkMO2TBcFOFO1rO9NXWOtz4DS1vo0rNzpAze59tSnR6yCeWdO8IFsamUsG5GKYJlG9mTqWxxGCw9rbIZCMISGcpK0aazCRbVdsS8wD7LYW5xlXbuB8xvFe5EoISaBYEX2Idfn/38E344171wTe4wgVLzxuwta5pvkmA6u6EXGBfRB/M3LR39xX5+zfkFTtaldt7xqyMlw/KDHabJEDAQ2Xwsi3Jrv/k2EYy2s2vE6ZC9ByvfEEFs=
  - secure: UlGJbQaj0LKxRchRKrhAuhqswwBzudOWcDCCqLGetKvBWrs2L6+yYclYE3C8ic5K1BxK3+4C5KF1HkOpissUFQltqS+wJCm8iMtcjk4E0dkUICK8uMLdWsWO70V/lbn48jY+MX/0Pc3TbXASpeVw7UE2hqrsWGgwyFCMGxn0okchk3QN5SnD2C4Wxk3xSQ0HX4gg8T+VpWYGULkZyq2Tfi+MYoJUBaXkQthN8eki0qAXVZbnRGtnlZ42gRBGEiLQ7fRcYMGNbG4E1b/nBo7/n4QVRPc0vnibE4D2m/s+kANkPWsJK3BQNSyEPkO7YS9er42g8JZEmQdGdO5u70ZOpExXRA7bs3LZDsdEnDobKRUjg2Cqh+EvawdUZvzpnKa/fmUne8owOl5N87niSamI9k2EtDAy+6tyV1RG8L9AF7IX1YLyBuPNRb037RYHoW9kN9bFy1i5GwTThqY6tJXFivWtv/f+k7+LhqJp8NiXqH3hR1I5/K3JftjGRaN4/x43e/w1GRBrjm5YZpwgfbJXp+Oxj/CJx9KFPKfNe5cjCIhpGb3dO64PD+VsI1MsKKV6r0ioWNWxzIn0oEIsIoxe8oo+d2RuuZXi69WrtF2ayO+ryJKSjosuPt8pKVxFthb2qjoWtVV1urxh1+LpUveuxy21K9ZkK2WPWHeyB0fbtsQ=
after_success:
- sudo apt-get -y install sshpass
- test $TRAVIS_PULL_REQUEST == "false" && test $TRAVIS_BRANCH == "develop" && sshpass
  -p $FTP_PASSWORD scp -o stricthostkeychecking=no -r ./dist/* $SSH_USER@$DEV_HOST:$WWWROOT_DEV
deploy:
  provider: heroku
  api_key:
    secure: CSIoN63U8mLmsMwwnCnwC3d6g7pPptMrX/7BoSh3+86nLUpnNEkOeoQKdZxQ9NTb89gPVf6NSLlpYrlblACln9jtpp91/5BACrsmNXIoA+TZtMYVCF7hItNVT1XD2DwjE1h1+h9nkSDuqY1INCbOxrbJr/1ateRW4hC4kLTHyDgMXxYAVcuXsoB8jeLodazAUZJDDoRL1xfJVrj4uMgHAsGlUjMxOpzAnUeyjs5wj4ZyLx4ap3fDKFRf8RY5iv3usFdgksrDFLJm10wpu/Vp0mB9pqsHdfWiMr1uHlESJ59WyhUZyLsCjPymVkH78upa1s+YPxfOBUwCpgDelUe49ms4YPTgk+nAToClty2uOqLdtIea2K2aAmOBWrk43wcCioYsHzL7n9xII/VkjO1NjtWfPc6kuUIQo5oYMPF9zOvNgot/32Q/SNmNOO1VnnJXd+Huacfi/bk0MW7FWTbqoH79JhutivP6oXY2D7nY3/9yfh2IunZNdmYTyYJB/5FZGH6jZpAZLwkeuSDicFSJbDcakqJtJbvPy9Za1/B0JM0RyBEZoEmC+e1013+qjMWMYXiC5SCcR44upfnna/uZtTNOUqqK45BfxzgG6LENS7c8RgT9DPZpSdS4LuoTH8mybd45pfW5p2a3k/KcNgoR5KXepbM+PiZMFTkb1NnBiG4=
  app: dgpdev
  on:
    repo: sjmorrow/destiny-game-plan
    branch: develop
